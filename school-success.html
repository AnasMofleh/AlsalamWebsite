<!DOCTYPE html>
<!-- Default lang/dir set here, updated by translate.js -->
<html lang="sv" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Title will be set by JS -->
  <title data-translate="schoolSuccess.pageTitle">Payment Success - School Portal</title>

  <!-- Add necessary CSS -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">
  <link href="css/bootstrap.min.css" rel="stylesheet"> <!-- Assuming Bootstrap is used -->
  <link href="css/style.css" rel="stylesheet"> <!-- Main template style -->
  <link rel="stylesheet" href="css/translate.css"> <!-- Translation CSS -->
  <!-- Link to specific styles.css if it exists for this page -->
  <!-- <link rel="stylesheet" href="styles.css"> -->

  <style>
      /* Basic styles if styles.css isn't used */
      body { font-family: 'Open Sans', sans-serif; }
      header { background-color: #f8f9fa; padding: 1rem 0; border-bottom: 1px solid #dee2e6; text-align: center; }
      header h1 { font-family: 'Pacifico', cursive; color: #0d6efd; } /* Match theme */
      nav ul { list-style: none; padding: 0; margin-top: 0.5rem; }
      nav li { display: inline; margin: 0 10px; }
      nav a { text-decoration: none; color: #0d6efd; font-weight: 600;}
      main { padding: 2rem 1rem; max-width: 800px; margin: 2rem auto; }
      .success-message { background-color: #d1e7dd; border-left: 5px solid #198754; padding: 1.5rem; border-radius: 5px; text-align: center;}
      .success-message h2 { color: #198754; margin-bottom: 1rem;}
      .info { margin-top: 1.5rem; padding: 1rem; background-color: #fff; border: 1px solid #eee; border-radius: 5px; text-align: left;}
      .info p { margin-bottom: 0.5rem;}
      footer { background-color: #343a40; color: #fff; text-align: center; padding: 1.5rem 0; margin-top: 2rem;}
      footer p { margin-bottom: 0.5rem; color: #adb5bd;}
      footer a.back-link { color: #ffc107; text-decoration: none; font-weight: bold;}
      footer a:hover { text-decoration: underline;}
  </style>

</head>
<body>
  <!-- Header Section -->
  <header>
    <h1 data-translate="schoolSuccess.headerTitle">School Portal</h1>
    <nav>
      <ul>
        <!-- Adjust links as needed -->
        <li><a href="school.html" data-translate="schoolSuccess.navHome">Home</a></li>
        <!-- Add contact link if 'contact.html' exists -->
        <!-- <li><a href="contact.html" data-translate="schoolSuccess.navContact">Contact</a></li> -->
      </ul>
    </nav>
  </header>

  <!-- Main Content Section -->
  <main>
    <section class="success-message wow fadeIn" data-wow-delay="0.1s">
      <h2 data-translate="schoolSuccess.successTitle">Payment Successful!</h2>
      <p data-translate="schoolSuccess.successMessage">Thank you for your payment. Below are the details you provided:</p>
      <div class="info">
        <p>
            <strong data-translate="schoolSuccess.personnummerLabel">Barnets personnummer:</strong>
            <!-- The span content will be filled by script-success.js -->
            <span id="personnummer"><em data-translate="schoolSuccess.loading">Loading...</em></span>
        </p>
      </div>
    </section>
  </main>

  <!-- Footer Section -->
  <footer>
    <!-- Use innerHTML for copyright symbol -->
    <p data-translate="schoolSuccess.footerCopyright" data-translate-allow-html="true">Â© 2025 School Portal. All Rights Reserved.</p>
    <a href="school.html" class="back-link" data-translate="schoolSuccess.backLink">Back to School Page</a>
  </footer>

   <!-- Load Translation Files FIRST -->
    <script src="js/translations/sv.js"></script>
    <script src="js/translations/en.js"></script>
    <script src="js/translations/ar.js"></script>

    <!-- Load Core Translation Logic -->
    <script src="js/translate.js"></script> <!-- Make sure translatePage runs -->

    <!-- WOW JS for animations -->
     <script src="lib/wow/wow.min.js"></script>
     <script> new WOW().init(); </script> <!-- Initialize WOW -->

    <!-- External JavaScript for success page logic -->
    <!-- Ensure this script runs AFTER translate.js and translations are loaded -->
    <!-- This script likely reads URL parameters to display the personnummer -->
    <script src="script-success.js"></script>

    <!-- Initialize translation after DOM is ready -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (window.translatePage) {
                const savedLang = localStorage.getItem('selectedLanguage') || 'sv';
                // Ensure translation files are loaded (they should be by now)
                if (window.translations && window.translations[savedLang]) {
                    window.translatePage(savedLang);
                     // We don't have a switcher here, but apply the saved lang
                     console.log("Success page language applied:", savedLang);
                } else {
                    console.warn("Translation data not ready on success page.");
                    // Optionally retry or default rendering
                }
            } else {
                 console.error("translatePage function not found on success page.");
            }
        });
    </script>

</body>
</html>