<!DOCTYPE html>
<html lang="en">

<head>
    <!-- ...existing code... -->
    <link rel="alternate" hreflang="sv" href="/sv">
    <link rel="alternate" hreflang="en" href="/en">
    <link rel="alternate" hreflang="ar" href="/ar">
</head>

<body>
    <!-- Spinner Start -->
    <div id="spinner"
        class="show w-100 vh-100 bg-white position-fixed translate-middle top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-grow text-primary" role="status"></div>
    </div>
    <!-- Spinner End -->

    <!-- Add container div to control width -->
    <div class="container-fluid" style="max-width: 1200px">
        <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-white py-3 rounded shadow-sm">
            <div class="container-fluid d-flex justify-content-between align-items-center">
                <!-- Logo -->
                <div class="d-flex align-items-center">
                <a href="index.html" class="navbar-brand ms-lg-5">
                    <img src="img/Al-Salam-Center-Logo.png" alt="Mosque Logo" class="img-fluid"
                        style="max-height: 60px" />
                </a>

                <!-- Language selector and mobile donate button -->

                <div class="nav-item dropdown ms-3">
                    <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" role="button"
                        data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-globe me-2"></i>
                        <span id="current-lang">Svenska</span>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li><a class="dropdown-item" href="#" onclick="setLang('sv')">Svenska</a></li>
                        <li><a class="dropdown-item" href="#" onclick="setLang('en')">English</a></li>
                        <li><a class="dropdown-item" href="#" onclick="setLang('ar')">العربية</a></li>
                    </ul>
                </div>
                </div>

                <button  id="donate-button-mobile" onclick="window.location.href='donations.html'" data-i18n="donation">
                    Donera <i class="fas fa-heart"></i>
                </button>

                
                <!-- Toggler/collapsibe Button -->
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
                    aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Collapsible content -->
                <div class="collapse navbar-collapse bg-white justify-content-center" id="navbarCollapse">
                    <!-- Desktop navigation: show two items + dropdown -->
                    <div class="navbar-nav align-items-center d-none d-lg-flex">
                        <a href="index.html" class="nav-item nav-link" data-i18n="nav.home">HOME</a>
                        <a href="index.html#Services" class="nav-item nav-link" data-i18n="nav.tjänster">TJÄNSTER</a>
                        <a href="donations.html" class="nav-item nav-link" data-i18n="nav.donationer">DONATIONER</a>

                        <div class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="moreMenu" role="button"
                                aria-haspopup="true" aria-expanded="false" data-i18n="nav.more">MER

                            </a>
                            <div class="dropdown-menu" aria-labelledby="moreMenu">
                                <a class="dropdown-item" href="company.html" data-i18n="nav.company">FÖRETAG</a>
                                <a class="dropdown-item" href="#footer" data-i18n="nav.contact">KONTAKTA OSS</a>
                                <a class="dropdown-item" href="stats.html">
                                    <i class="fas fa-chart-line"></i>
                                    <span data-i18n="nav.stats"></span>STATISTIK
                                </a>
                            </div>
                        </div>
                        <!-- Keep CTA style for Statistik when accessed directly in dropdown -->
                    </div>

                    


                    <!-- Mobile navigation: keep full list -->
                    <div class="navbar-nav align-items-center d-lg-none">

                        <a href="index.html" class="nav-item nav-link active" data-i18n="nav.home">Home</a>
                        <a href="index.html#Services" class="nav-item nav-link" data-i18n="nav.tjänster">Tjänster</a>
                        <a href="donations.html" class="nav-item nav-link" data-i18n="nav.donationer">Donationer</a>
                        <a href="company.html" class="nav-item nav-link" data-i18n="nav.company">Företag</a>
                        <a href="stats.html" class="nav-item nav-link stats-cta-link">
                            <i class="fas fa-chart-line"></i>
                            <span data-i18n="nav.stats"></span>STATISTIK
                        </a>

                        <a href="#footer" class="nav-item nav-link me-lg-5" data-i18n="nav.contact">Kontakt</a>



                    </div>

                    <!-- Social media buttons -->
                    <div class="d-flex justify-content-center ms-4">
                        <a class="btn btn-primary btn-sm me-2" href="https://chat.whatsapp.com/IRiZCLCCM7lF4NHi2wBvmj">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                        <a class="btn btn-primary btn-sm me-2" href="https://www.facebook.com/alsalam.center.se">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a class="btn btn-primary btn-sm me-2"
                            href="https://www.instagram.com/alsalamcenterhelsingborg">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a class="btn btn-primary btn-sm me-2" href="https://www.tiktok.com/@alsalamcenterhelsingborg">
                            <i class="fab fa-tiktok"></i>
                        </a>

                    </div>

                    <!-- Swish button -->
                    <span class="navbar-text">
                        <div class="d-none d-xl-flex align-items-center ms-4">
                            <img src="img/swish.png" alt="Swish Icon" class="me-2" style="width: 20px" />
                            <span>Swish: 1235000559</span>
                        </div>
                    </span>
                </div>
            </div>
        </nav>
    </div>


    <!-- Add margin to prevent content from hiding behind navbar -->
    <div style="margin-top: 75px"></div>

    <!-- i18n module (exposed as global `loadLanguage`) -->
    <script type="module" src="i18n/js/i18n.js" defer></script>

</body>

</html>

<script>
    function setLang(lang) {
        loadLanguage(lang);
        setLangLabel(lang);
    }

    function setLangAndClose(lang) {
        setLang(lang);
        const nav = document.querySelector('.navbar-collapse');
        if (nav?.classList.contains('show')) {
            bootstrap.Collapse.getInstance(nav)?.hide();
        }
    }

    function setLangLabel(lang) {
        const map = { sv: "Svenska", en: "English", ar: "العربية" };
        const desktop = document.getElementById("current-lang");
        const mobile = document.getElementById("current-lang-mobile");

        if (map[lang]) {
            if (desktop) desktop.textContent = map[lang];
            if (mobile) mobile.textContent = map[lang];
        }
    }
</script>